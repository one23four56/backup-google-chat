<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="talk/style.css">
    <link rel="shortcut icon" href="public/favicon.png" type="image/x-icon">
    <title>Backup Google Chat</title>
    <script src="https://kit.fontawesome.com/eb1c0ae649.js" crossorigin="anonymous"></script>
    <script src="public/autofill.js"></script>
    <script src="public/message.js"></script>
    <script src="public/themes.js"></script>
</head>
<body>
    <audio style="display: none;" id="msgSFX">
    <source src="sounds/msg.mp3" type="audio/mpeg">
    <source src="sounds/msg.wav" type="audio/wav">
    <source src="sounds/msg.ogg" type="audio/ogg">
    </audio>
    <header>
        <img src="public/favicon.png" height="100%" id="header-logo-image" title="Hide/Show Sidebar">
        <h1>Backup Google Chat</h1>
        <button id="log_out_header" onclick="logout()">Log Out</button>
        <button id="settings-header">Settings</button>
        <p id="archive-update"></p>
    </header>
    <div class="alert-holder" style="display:none;">
        <div class="alert-popup"></div>
    </div>
    <div id="connectdiv-holder">
        <div id="connectdiv">
            <h1>Connect</h1>
            <p>Press connect to connect to chat. <br>
            Please note that:</p>
            <ul>
                <li>Everyone online will be able to see that you connected</li>
                <li>By connecting, you agree to:</li>
                <ul>
                    <li>Be held responsible for the content of any message that you send</li>
                    <li>Be a decent human being and don't spam the chat or harass anyone without reason</li>
                </ul>
            </ul>
            <button id="connectbutton">Please wait while the site loads...</button>
        </div>
        <button id="log_out_connect" onclick="logout()">Log Out</button>
    </div>
    <div id="sidebar">
        <span class="outline-item" id="time-disp">Loading...</span>
        <hr>
       <span class="outline-item" id="chat-button"><i class="fas fa-comments fa-fw"></i>Chat</span>
       <span class="outline-item" id="archive-button" onclick="window.open(location.href+'archive')"><i class="fas fa-archive fa-fw"></i>Archive</span>
       <span class="outline-item" fixed="true" id="online-users-count"><i class="fas fa-user-alt fa-fw"></i>Currently Online:</span>
       <div id="online-users"></div>
       <hr>
    </div>
    <div id="alert" class="sidebar_alert"></div>
    <div id="sidebar_alert_holder"></div>
    <div id="image-box">
        <img src="" id="image-box-display" alt="Valid image not inputted.">
        <h1>Paste an Image Here</h1>
        <br>
        <div>
            <button id="close-image-box">Done</button>
            <button id="clear-image-box">Clear</button>
        </div>
    </div>
    <div id="settings-holder">
        <button id="settings-exit-button">Save and Close</button>
        <div id="settings_box">
            <details>
                <summary>About</summary>
                <p autofill_search>
                    Backup Google Chat %#:updateName:#% %#:stability:#% (%#:releaseDate:#%.%#:patch:#%%#:stabilityChar:#%)
                    <br><br>
                    Current Update: %#:updateName:#%
                    <br>
                    Release Date: %#:releaseDate:#%
                    <br>
                    Patch: %#:patch:#%
                    <br>
                    Stability: %#:stability:#%
                    <br><br>
                    Credits:
                    <br>
                    Jason Mayer (Original Creator / Lead Developer)
                    <br>
                    Felix Signer (Developer)
                    <br>
                    Oliver Boyden (Logo Designer)
                </p>
            </details>
            <details>
                <summary>Notification Settings</summary>
                    <b>Scroll Options</b><br>
                    <label for="notification-settings-autoscroll">
                        <input type="checkbox" name="autoscroll" id="notification-settings-autoscroll">
                        Automatically scroll to the bottom when a new message is received
                    </label>
                    <br><br>
                    <b>Sound Options</b><br>
                    <label for="notification-settings-sound-message">
                        <input type="checkbox" name="sound-message" id="notification-settings-sound-message">
                        Play a sound when a new message is received
                    </label><br>
                    <label for="notification-settings-sound-connect">
                        <input type="checkbox" name="sound-connect" id="notification-settings-sound-connect">
                        Play a sound when someone connects to the chat
                    </label><br>
                    <label for="notification-settings-sound-send-message">
                        <input type="checkbox" name="sound-send-message" id="notification-settings-sound-send-message">
                        Play a sound when you send a message
                    </label>
                    <br><br>
                    <b>Desktop Notification Options</b><br>
                    <label for="notification-settings-desktop-enabled">
                        <input type="checkbox" name="desktop-enabled" id="notification-settings-desktop-enabled">
                        Show a desktop notification when a new message is received
                    </label>
            </details>
            <details>
                <summary>Display Settings</summary>
                    <b>Theme Options</b><br>
                    <label for="display-settings-light-mode">
                        <input type="radio" name="display-settings-theme" id="display-settings-light-mode">
                        Light Mode
                    </label><br>
                    <label for="display-settings-dark-mode">
                        <input type="radio" name="display-settings-theme" id="display-settings-dark-mode">
                        Dark Mode
                    </label>
            </details>
        </div>
    </div>
    <div id="footer">
        <img src="" hidden aria-hidden="true" id="attached-image-preview">
        <img src="" alt="profile-pic" id="profile-pic-display" style="display:none">
        <div id="webhook-options" style="display:none"></div>
        <form id="send" autocomplete="off">
            <input type="text" name="text" id="text" minlength="0" maxlength="100" spellcheck="true" required placeholder="Enter a message...">
            <input type="checkbox" name="save-to-archive" id="save-to-archive" checked>
            <label for="save-to-archive"><i class="fas fa-user-secret"></i><i class="fas fa-cloud"></i></label>
            <button type="button" id="attach-image"><i class="fas fa-image"></i></button>
            <button type="submit"><i class="fas fa-paper-plane"></i></button>
        </form>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="talk/script.js"></script>
</body>
</html>