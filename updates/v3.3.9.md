<h1 style="font-size:4em;margin-bottom:0.25em;">
    Revamp Update Patch 9
</h1>

<img src="/public/v3.3.8.svg" height="10%" alt="v3.3.8">

<hr>

<!-- Released on Monday, May 6th, 2024

<hr> -->

<style>
    h1 {
        font-size: 2em;
    }
</style>

# Highlights

<hr>

# Full Changelog

## Rooms

- All room info messages now say who did the action that triggered the message

- Modernized the room members page

  - Members can now be searched and filtered

- Changes to muting

  - Room members can now manually mute people via the member actions menu
  
    - By default, this is reserved for room owners, but this can be changed in room options (Permissions > Mute People)

  - On the members page, muted people now have a "MUTED" tag and a countdown to when the mute ends next to their name

  - Mutes will still end naturally after the time set by the muter; however, the room owner now has the option to end mutes early

- Added kicking

  - Kicked users are temporarily removed from the room for a certain amount of time and then automatically added back

    - A notification is sent to kicked users which tells them who kicked them and when the kick ends, and provides an option to leave the room

    - During this time, kicked users cannot be invited back to the room, even if they leave or get removed

  - Room members can manually kick people via the member actions menu

    - By default, this is reserved for room owners, but this can be changed in room options (Permissions > Kick People)

  - On the members page, kicked people have a "KICKED" tag and a countdown to when the kick ends next to their name

  - The room owner has the option to end kicks early

- Room owners can no longer be kicked or muted

- **Note:** Muting existed prior to v3.4.0, but it was unstable, reserved exclusively for AutoMod, and did not support early unmuting. Kicking did not exist prior to v3.4.0.

- Added the room member actions menu, which shows options to remove, mute, or kick a member from a room

  - Can be opened by:

    - Right clicking someone's profile picture in chat

    - Right clicking on someone in the sidebar

    - Right clicking or pressing the three dots on someone in the room members page

  - If enabled (Settings > People > Profile Room Actions), the menu will also show up when user profiles are opened

- Non-owners are now able to edit room names/emojis, descriptions, and rules

  - Controlled by the "Edit room name and emoji", "Edit room description", and "Add or remove room rules" room permission options (all default to owner)

- Increased the room description character limit from 100 to 250 characters

- Added confirmation popups for changing the room name and emoji

- Adjusted the duration of certain polls

  - Invite, mute, and kick user polls now all last 1 minute

  - Claim room ownership polls now last 15 minutes

  - All other polls still last the default 5 minutes

- Room owners can now delete other peoples's messages

  - This must be enabled in room options under Miscellaneous (default: off)

  - System/Info messages can't be deleted, even if this option is on

- Added room abandonment protection; when only one member is left in a room they are now automatically made the owner

- Room owners can now renounce ownership when there are 2 or more members in a room (previously was 3)

- **fix members page**

## Style

- Minor style changes to the room options page

- Borderless style is no longer in beta

- Added optional animation for sidebar alerts (Settings > Appearance > Animation)

- Added new "Midnight" theme (Settings > Appearance > Theme)

  - Demo images: *(theme: Midnight, style: Borderless, browser: Firefox 129)*

    - <img src="/public/images/midnight-1.png" alt="Midnight Theme Demo 1" width="30%">

    - <img src="/public/images/midnight-2.png" alt="Midnight Theme Demo 2" width="30%">

    - <img src="/public/images/midnight-3.png" alt="Midnight Theme Demo 3" width="30%">

## Bots

- Quote bot random commands (`/quote random`, `/quote guess`) no longer quote commands and  guesses/hints

- Rewrote the internal bot system
  
  - Bots can now be added/removed without requiring a room reload

  - **Bots can now be muted, just like normal users**

## Settings

- Added setting "Show room member actions (remove/mute/kick) in user profiles" (default: off) under People > Profile Room Actions

- Added setting "Animate sidebar alerts (beta)" (default: off) under Appearance > Animation

## Minor Changes

- In the archive viewer, replies now link to the message that they are replying to

- The site now loads slightly faster

- Status update notifications are now auto-dismissed and replaced if the sender updates their status again before the notification is read

## Bugs Fixed

All bugs listed below were present in some or all older versions but have been patched in v3.3.8

- Rooms with one message are not properly converted to the new last read message format, causing an irremovable notification*

- Attempting to open a room with one or zero messages causes a crash*

- The link to the largest file on the stats page does not work

- Navigating to `/chat` without a trailing slash prevents all site files from loading

- Message authors' profile pictures can sometimes get squished

- You still receive status update notifications from people you've blocked

- If you get removed from a room and rejoin it in the same session, new messages sent in that room fail to render until you reload

- If you get removed from a room and then a message is sent in another room, the sidebar item for the room that you were removed from reappears until you reload

- When someone is removed from the room, their read message icons are not deleted

- When you are removed from/leave a room with unread messages, the notification count in the page title is not updated

- If an invite user poll is active, inviting that person before the poll ends results in them being added to the room twice

- When the room name/emoji/options are updated, the most recent message that you read is marked as unread

- If you do not have a status set, various site functions such as auto-reconnect, alerts, notifications, and sidebar alerts do not work, while others (time formatting) behave erratically

- Under certain conditions, online users are given the "OFFLINE" tag despite appearing under the online list on the sidebar

- While [v3.0's update log](/updates/v3.0.0.md?parse=true#bots) claims that bots can only be activated once per message, that is not actually the case

\* = This bug was patched in a hotfix before the official patch was released
<!-- 
<hr>

Backup Google Chat Revamp Update Patch 8 (v3.3.8), Released 5/6/2024  
<img src="../public/logo.svg" height="10%" alt="Backup Google Chat"> -->
