<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="/public/favicon.png" type="image/x-icon">
    <title>Backup Google Chat</title>
    <script src="https://kit.fontawesome.com/eb1c0ae649.js" crossorigin="anonymous"></script>
    <script src="/public/autofill.js"></script>
    <script src="/public/message.js"></script>
    <script src="/public/themes.js"></script>
</head>
<body>
    <audio style="display: none;" id="msgSFX">
    <source src="/sounds/msg.mp3" type="audio/mpeg">
    <source src="/sounds/msg.wav" type="audio/wav">
    <source src="/sounds/msg.ogg" type="audio/ogg">
    </audio>
    <header>
        <img src="/public/favicon.png" height="100%" id="header-logo-image" title="Hide/Show Sidebar">
        <h1>Backup Google Chat</h1>
        <div id="profile-picture-holder">
            <img src="" alt="Your profile picture" id="header-profile-picture">
            <i class="fa-solid fa-caret-down fa-2x"></i>
        </div>
    </header>
    <div id="account-options-display">
        <div class="account-option" onclick="window.open(location.origin+'/account')">
            <h1>Account</h1>
            <i class="fa-solid fa-user fa-2x"></i>
        </div>
        <div class="account-option" onclick="window.open(location.origin+'/bots')">
            <h1>Bot List</h1>
            <i class="fa-solid fa-robot fa-2x"></i>
        </div>
        <div class="account-option" id="settings-header">
            <h1>Settings</h1>
            <i class="fa-solid fa-gear fa-2x"></i>
        </div>
        <div class="account-option" onclick="logout()">
            <h1 style="color:red">Log Out</h1>
            <i class="fa-solid fa-arrow-right-from-bracket fa-2x"></i>
        </div>
    </div>
    <div class="alert-holder" style="display:none;">
        <div class="alert-popup"></div>
    </div>
    <div id="connectdiv-holder">
        <div id="connectdiv">
            <h1>Welcome!</h1>
            <p>Welcome to the Backup Google Chat.<br>
            Please note that:</p>
            <ul>
                <li>By continuing, you agree to:</li>
                <ul>
                    <li>Be held responsible for the content of any message that you send</li>
                    <li>Be a decent human being and don't spam the chat or harass anyone without reason</li>
                </ul>
            </ul>
            <button id="connectbutton">Please wait while the site loads...</button>
        </div>
        <button id="log_out_connect" onclick="logout()">Log Out</button>
    </div>
    <div id="sidebar">
        <span class="outline-item" id="time-disp">Loading...</span>
        <span class="outline-item" onclick="window.open(location.origin+'/updates')"><i class="fas fa-pen-square fa-fw"></i>Update Logs</span>
        <span class="outline-item" onclick="window.open(location.origin+'/doc')"><i class="fa-solid fa-file-lines fa-fw"></i>Documentation</span>
        <!-- <span class="outline-item" onclick="window.open(location.origin+'/public/favicon.png')"><i class="fas fa-thumbs-up fa-fw"></i>Ukraine</span>
        <span class="outline-item" onclick="window.open('https:/\/en.wikipedia.org/wiki/Russian_war_crimes#Ukraine')"><i class="fas fa-thumbs-down fa-fw"></i>Russia</span> -->
        <hr>
       <span class="outline-item" id="chat-button"><i class="fas fa-comments fa-fw"></i>Chat</span>
       <span class="outline-item" id="archive-button" onclick="window.open(location.origin+'/archive')"><i class="fa fa-archive fa-fw"></i>Archive</span>
       <span class="outline-item" id="search-button" onclick="window.open(location.origin+'/search')"><i class="fa fa-search fa-fw"></i>Search</span>
       <hr>
       <span class="outline-item" fixed="true" id="online-users-count"><i class="fas fa-user-alt fa-fw"></i>Currently Online:</span>
       <div id="online-users"></div>
       <hr>
    </div>
    <div id="alert" class="sidebar_alert"></div>
    <div id="sidebar_alert_holder"></div>
    <div id="react-picker">
        <p onclick="addReaction('üëç')">üëç</p>
        <p onclick="addReaction('üëé')">üëé</p>
        <p onclick="addReaction('ü§î')">ü§î</p>
        <p onclick="addReaction('üá∫üá¶')">üá∫üá¶</p>
        <p onclick="addReaction('‚ôªÔ∏è')">‚ôªÔ∏è</p>
        <p onclick="addReaction('üéâ')">üéâ</p>
        <p onclick="addReaction('üòé')">üòé</p>
    </div>
    <div id="settings-holder">
        <button id="settings-exit-button">Save and Close</button>
        <div id="settings_box">
            <details>
                <summary>About</summary>
                <p autofill_search>
                    Backup Google Chat %#:updateName:#% Patch %#:patch:#% (v%#:mainVersion:#%.%#:subVersion:#%.%#:patch:#%)
                    <br><br>
                    Current Update: %#:updateName:#%
                    <br>
                    Patch: %#:patch:#%
                    <br>
                    Release Date: %#:releaseDate:#%
                    <br><br>
                    Credits:
                    <br>
                    Jason Mayer (Original Creator / Lead Developer)
                    <br>
                    Felix Singer (Developer)
                    <br>
                    Oliver Boyden (Head of Logo Design)
                </p>
            </details>
            <details>
                <summary>Notification Settings</summary>
                    <b>Scroll Options</b><br>
                    <label for="notification-settings-autoscroll-on">
                        <input type="radio" name="autoscroll" id="notification-settings-autoscroll-on">
                        Always autoscroll to the bottom when a new message is received
                    </label>
                    <br>
                    <label for="notification-settings-autoscroll-smart">
                        <input type="radio" name="autoscroll" id="notification-settings-autoscroll-smart">
                        Only autoscroll to the bottom when you are not reading old messages
                    </label>
                    <br>
                    <label for="notification-settings-autoscroll-off">
                        <input type="radio" name="autoscroll" id="notification-settings-autoscroll-off">
                        Never autoscroll
                    </label>
                    <br><br>
                    <b>Sound Options</b><br>
                    <label for="notification-settings-sound-message">
                        <input type="checkbox" name="sound-message" id="notification-settings-sound-message">
                        Play a sound when a new message is received
                    </label><br>
                    <label for="notification-settings-sound-connect">
                        <input type="checkbox" name="sound-connect" id="notification-settings-sound-connect">
                        Play a sound when someone connects to the chat
                    </label><br>
                    <label for="notification-settings-sound-send-message">
                        <input type="checkbox" name="sound-send-message" id="notification-settings-sound-send-message">
                        Play a sound when you send a message
                    </label>
                    <br><br>
                    <b>Desktop Notification Options</b><br>
                    <label for="notification-settings-desktop-enabled">
                        <input type="checkbox" name="desktop-enabled" id="notification-settings-desktop-enabled">
                        Show a desktop notification when a new message is received
                    </label>
            </details>
            <details>
                <summary>Display Settings</summary>
                    <b>Theme Options</b><br>
                    <label for="display-settings-light-mode">
                        <input type="radio" name="display-settings-theme" id="display-settings-light-mode">
                        Light Mode
                    </label><br>
                    <label for="display-settings-dark-mode">
                        <input type="radio" name="display-settings-theme" id="display-settings-dark-mode">
                        Dark Mode
                    </label><br>
                    <label for="display-settings-ukraine">
                        <input type="radio" name="display-settings-theme" id="display-settings-ukraine">
                        Ukraine Mode
                    </label>
            </details>
            <details>
                <summary>Miscellaneous Settings</summary>
                <b>Page Load Options</b>
                <label for="misc-settings-hide-welcome"><br>
                    <input type="checkbox" name="hide-welcome" id="misc-settings-hide-welcome">
                    Hide the welcome message
                </label><br>
                <label for="misc-settings-hide-private-webhooks">
                    <input type="checkbox" name="hide-private-webhooks" id="misc-settings-hide-private-webhooks">
                    Hide Webhooks You Don't Have Access To
                </label>
            </details>
        </div>
    </div>
    <div id="footer">
        <div id="attached-image-preview-container" style="display:none">
            <img src="" hidden aria-hidden="true" id="attached-image-preview">
            <i class="fa" id="close-button">&#xf00d;</i>
        </div>
        <img src="" alt="profile-pic" id="profile-pic-display" style="display:none">
        <div id="webhook-options" style="display:none"></div>
        <form id="send" autocomplete="off">
            <input type="text" name="text" id="text" minlength="0" maxlength="100" spellcheck="true" required placeholder="Enter a message...">
            <input type="checkbox" name="save-to-archive" id="save-to-archive" checked>
            <label for="save-to-archive"><i class="fas fa-user-secret"></i><i class="fas fa-cloud"></i></label>
            <button type="submit"><i class="fas fa-paper-plane"></i></button>
        </form>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>
    <script src="script.js" type="module"></script>
</body>
</html>